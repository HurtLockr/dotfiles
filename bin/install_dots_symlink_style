#!/bin/bash

# to run after cloning repo into directory dotfiles

echo "Running dotfile install script..."

mkdir ~/old

# create symlinks for .files in home directory. First checks if already exists,
# and if so then moves to directory old, and then symlinks.

home_files=(.bash_aliases .bash_profile .bashrc .gitconfig .vimrc .Xdefaults \
.xinitrc .bash_functions)

for file in ${home_files[*]}
    do 
        if [ -e ~/$file ]
        then mv ~/$file ~/old/
        fi 
        ln -s ~/dotfiles/$file ~/$file  
    done

# create symlinks for vim directory. If vim directory exists, then copy over to
# old. Symlinks, and also creates extra directories in .vim

if [ -d ~/.vim ]
then mv ~/.vim ~/old
fi
ln -s ~/dotfiles/.vim ~/.vim
cd ~/.vim && mkdir undo plug view

# create symlink for config directory. first copy over any folders that exist,
# then symlink

if [ -d ~/.config ] 
then 
    cp ~/.config ~/old/
    cp ~/.config/* ~/dotfiles/.config/ 
fi
ln -s ~/dotfiles/.config ~/.config

echo "Old files moved to ~/old."


